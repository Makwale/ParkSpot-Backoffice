<div class=" header bg-danger pb-6">
    <div class=" container-fluid">
      <div class=" header-body">
        <div class=" row align-items-center py-4">
         
  
          <div class=" col-lg-12 col-12 text-right">
            <button
                class=" btn btn-default"
                data-target="#modal-form"
                data-toggle="modal"
                type="button"
                (click)="openFormModal(modalForm)"
              >
                Add Property
              
              </button>

                <!-- Start of add property template -->
                <ng-template #modalForm class="card-body" >

                  <div class="card">
                    <div class=" card-header">
                      <div class=" row align-items-center">
                        <div class=" col-8"><h3 class=" mb-0">Propery Details</h3></div>
            
                        <div class="col-12 text-right">
                          <button
                            class=" btn btn-default"
                            data-target="#modal-form"
                            data-toggle="modal"
                            type="button"
                            
                            (click)="addAddress()" 
                          >
                            <span *ngIf="!isCreated" >Add Property</span>
                            <app-spinner *ngIf="isCreated"></app-spinner>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="card-body">
                      <div class=" modal-body p-0">
                        <form [formGroup]="propertyForm">
                          
                          <div class=" pl-lg-4">
                            <div class=" row">
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-username">
                                    Property Type
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-username"
                                    placeholder="House"
                                    type="text"
                                    value="House"
                                    formControlName="propertyType"
                                  />
                                </div>
                              </div>
        
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-first-name">
                                    Price
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-first-name"
                                    placeholder="Price"
                                    type="text"
                                    value="600000"
                                    formControlName="price"
                                  />
                                </div>
                              </div>
                            </div>
                            <div class=" row">
                              
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-last-name">
                                    Property Image
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-last-name"
                                    type="file"
                                    formControlName="file"
                                    (change)="uploadImage($event)"
                                  />
                                </div>
                              </div>
        
                              <div class=" col-lg-6">
                                
                                <div class=" form-group">
                                  <label class=" form-control-label"> Description</label>
                  
                                  <textarea
                                    class=" form-control"
                                    placeholder="A few words about your property"
                                    rows="1"
                                    formControlName="desc"
                                  >
                               
                                  </textarea
                                  >
                                </div>
                              
                              </div>
                            </div>
                          </div>
              
                          <hr class=" my-4" />
              
                          <h6 class=" heading-small text-muted mb-4">Property Address</h6>
              
                          <div class=" pl-lg-4">
                            <div class=" row">
                              <div class=" col-md-12">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-address">
                                    Address
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-address"
                                    placeholder="Home Address"
                                    type="text"
                                    value="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09"
                                    formControlName="propertyAddress"
                                  />
                                </div>
                              </div>
                            </div>
              
                            <div class=" row">
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-city">
                                    City
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-city"
                                    placeholder="City"
                                    type="text"
                                    value="New York"
                                    formControlName="city"
                                  />
                                </div>
                              </div>
              
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-country">
                                    Postal code
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-postal-code"
                                    placeholder="Postal code"
                                    type="number"
                                    formControlName="postalCode"
                                  />
                                </div>
                              </div>
                            </div>
                          </div>
               
                        </form>
                      </div>
                    </div>
                  </div>
                </ng-template>
                <!-- End of add property template -->

                <!-- Start of edit property template -->
                <ng-template #editModalForm class="card-body" >

                  <div class="card">
                    <div class=" card-header">
                      <div class=" row align-items-center">
                        <div class=" col-8"><h3 class=" mb-0">Propery Details</h3></div>
            
                        <div class=" col-4 text-right">
                          <button
                            class=" btn btn-default"
                            data-target="#modal-form"
                            data-toggle="modal"
                            type="button"
                            (click)="updateProperty()"
                          >
                          <span *ngIf="!isCreated" >Update</span>
                          <app-spinner *ngIf="isCreated"></app-spinner>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="card-body">
                      <div class=" modal-body p-0">
                        <form [formGroup]="editPropertyForm">
                          
                          <div class=" pl-lg-4">
                            <div class=" row">
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-username">
                                    Property Type
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-username"
                                    placeholder="House"
                                    type="text"
                                    value="House"
                                    formControlName="propertyType"
                                  />
                                </div>
                              </div>
        
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-first-name">
                                    Price
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-first-name"
                                    placeholder="Price"
                                    type="text"
                                    value="600000"
                                    formControlName="price"
                                  />
                                </div>
                              </div>
                            </div>
                            <div class=" row">
                              
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-last-name">
                                    Property Image
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-last-name"
                                    type="file"
                                    formControlName="file"
                                    (change)="uploadImage($event)"
                                  />
                                </div>
                              </div>
        
                              <div class=" col-lg-6">
                                
                                <div class=" form-group">
                                  <label class=" form-control-label"> Description</label>
                  
                                  <textarea
                                    class=" form-control"
                                    placeholder="A few words about your property"
                                    rows="1"
                                    formControlName="desc"
                                  >
                               
                                  </textarea
                                  >
                                </div>
                              
                              </div>
                            </div>
                          </div>
              
                          <hr class=" my-4" />
              
                          <h6 class=" heading-small text-muted mb-4">Property Address</h6>
              
                          <div class=" pl-lg-4">
                            <div class=" row">
                              <div class=" col-md-12">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-address">
                                    Address
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-address"
                                    placeholder="Home Address"
                                    type="text"
                                    value="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09"
                                    formControlName="propertyAddress"
                                  />
                                </div>
                              </div>
                            </div>
              
                            <div class=" row">
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-city">
                                    City
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-city"
                                    placeholder="City"
                                    type="text"
                                    value="New York"
                                    formControlName="city"
                                  />
                                </div>
                              </div>
              
                              <div class=" col-lg-6">
                                <div class=" form-group">
                                  <label class=" form-control-label" for="input-country">
                                    Postal code
                                  </label>
              
                                  <input
                                    class=" form-control"
                                    id="input-postal-code"
                                    placeholder="Postal code"
                                    type="number"
                                    formControlName="postalCode"
                                  />
                                </div>
                              </div>
                            </div>
                          </div>
               
                        </form>
                      </div>
                    </div>
                  </div>
                </ng-template>
                <!-- End of edit property form -->
            
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class=" container-fluid mt--6">

    <div class=" row">
      <div class=" col-xl-12">
        <div class=" card">
          <div class=" card-header border-0">
            <div class=" row align-items-center">
              <div class=" col"><h3 class=" mb-0">Properties</h3></div>
  
            </div>
          </div>
  
          <div class=" table-responsive">
            <table class=" table align-items-center table-flush">
              <thead class=" thead-light">
                <tr>
                  <th scope="col">Type</th>
  
                  <th scope="col">Description</th>
  
                  <th scope="col">Price</th>
  
                  <th scope="col">Address</th>

                  <th scope="col">City</th>

                  <th scope="col">Postal Code</th>

                  <th scope="col">Action</th>
                </tr>
              </thead>
  
              <tbody>
                <tr *ngFor="let property of dbs.clproperties">
                  <th scope="row">{{property.type}}</th>
  
                  <td>{{property.desc}}</td>
  
                  <td>{{property.price | currency: 'R '}}</td>
  
                  <td>
                    {{property.address.homeAddress}}
                  </td>

                  <td>
                    {{property.address.city}}
                  </td>

                  <td>
                    {{property.address.postalCode}}
                  </td>

                  <td>

                    <button
                    class="btn btn-default"
                    data-target="#modal-form"
                    data-toggle="modal"
                    type="button"
                    (click)="edit(property, editModalForm)"
                    >
                     Edit
                    </button>

                    <button
                      class="btn btn-danger"
                      data-target="#modal-form"
                      data-toggle="modal"
                      type="button"
                      (click)="delete(property)"
                    >
                     Delete
                    </button>
                  </td>
                </tr>
  
                
  
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  